@if (session && currentUser) {
  <div class="w-full h-full bg-gray-100 flex flex-col">
    <!-- Header -->
    <div class="py-6 px-4 bg-gray-200">
      <div class="flex items-center gap-2">
        <mat-icon
          class="text-transparent bg-gradient-to-t from-green-400 to-green-200 bg-clip-text"
        >
          star_shine
        </mat-icon>
        <h3 class="text-base font-semibold">
          {{session.title.session_title}}
        </h3>
      </div>
    </div>
    <section class="flex-1 w-full h-full flex">
      <div class="relative mb-auto w-full p-8 flex flex-col">
        <div class="">
          <app-meet-avatar [size]="44" [isTalking]="false"></app-meet-avatar>
        </div>
        <div class="flex">
          <div
            class="mt-8 p-4 rounded bg-gray-200 mr-auto flex-1 max-h-32 overflow-y-auto"
          >
            <!-- {{ transcription }} -->
          </div>
          <app-meet-avatar
            [imageUrl]="currentUser.photoURL || ''"
            [isTalking]="isRecording"
            (error)="loadDefaultImage($event)"
          ></app-meet-avatar>
        </div>
      </div>
    </section>
  
    <!-- Bottom Bar -->
    <div
      class="z-10 absolute bottom-0 w-full bg-gray-100 p-6 grid grid-cols-1 md:grid-cols-3 items-center justify-items-center"
    >
      <div class="hidden md:block justify-self-start py-2 uppercase">{{currentTime}}</div>
  
      <!-- Buttons -->
      <div class="flex flex-col items-center space-y-3">
        <div class="flex items-center space-x-2">
          <!-- âœ… Updated Mic Toggle Button -->
  
          <button class="icon_btn" matTooltip="Toggle Mic" (click)="toggleMic()">
            <mat-icon>{{ isRecording ? "mic" : "mic_off" }}</mat-icon>
          </button>
  
          <button class="icon_btn" disabled>
            <mat-icon>videocam_off</mat-icon>
          </button>
  
          <button class="icon_btn">
            <mat-icon>closed_caption</mat-icon>
          </button>
  
          <button class="icon_btn" [matMenuTriggerFor]="meetMenu">
            <mat-icon>more_vert</mat-icon>
          </button>
  
          <span class="!ml-3 !mr-1 text-gray-200">|</span>
  
          <button mat-mini-fab class="border" color="warn">
            <mat-icon>call_end</mat-icon>
          </button>
        </div>
      </div>
  
      <!-- Info & Lock -->
      <div class="hidden md:flex items-center justify-self-end p-2">
        <button class="icon_btn-2">
          <mat-icon>info</mat-icon>
        </button>
        <span class="icon_btn-2">
          <mat-icon>lock</mat-icon>
        </span>
      </div>
    </div>
    <!-- Popup Menu -->
    <mat-menu #meetMenu="matMenu" class="!bg-gray-50 !shadow-sm">
      <button mat-menu-item>Settings</button>
      <button mat-menu-item>System Health</button>
      <div class="my-2 h-[2px] bg-gray-300 overflow-hidden"></div>
      <button mat-menu-item>Help/Support</button>
      <button mat-menu-item>About</button>
    </mat-menu>
  </div>
}
@else {
  <app-empty-box msg="Initializing Meeting"></app-empty-box>
}