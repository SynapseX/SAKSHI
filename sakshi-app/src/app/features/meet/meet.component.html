<section class="fixed z-40 top-0 left-0 w-full h-full bg-gray-100 flex flex-col">
  <!-- Header -->
  <div class="py-6 px-4 bg-gray-200">
    <div class="flex items-center gap-2">
      <mat-icon class="text-transparent bg-gradient-to-t from-green-400 to-green-200 bg-clip-text">
        star_shine
      </mat-icon>
      <h3 class="text-base font-semibold">
        Exploring Your Path: An Initial Consultation
      </h3>
    </div>
  </div>

  <!-- Center Robot Icon -->
  <div class="mb-auto p-8">
    <div class="box w-full h-full grid place-items-center">
      <div>
        <mat-icon class="!size-24 text-[6rem]">robot_2</mat-icon>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="p-6 grid grid-cols-1 md:grid-cols-3 items-center justify-items-center">
    <div class="hidden md:block justify-self-start py-2">11:37PM</div>

    <!-- Buttons -->
    <div class="flex flex-col items-center space-y-3">
      <div class="flex items-center space-x-2">
        <!-- ✅ Updated Mic Toggle Button -->
        <button class="icon_btn" matTooltip="Toggle Mic" (click)="toggleMic()">
          <mat-icon>{{ isRecording ? 'mic' : 'mic_off' }}</mat-icon>
        </button>

        <button class="icon_btn" disabled>
          <mat-icon>videocam_off</mat-icon>
        </button>

        <button class="icon_btn">
          <mat-icon>closed_caption</mat-icon>
        </button>

        <button class="icon_btn" [matMenuTriggerFor]="meetMenu">
          <mat-icon>more_vert</mat-icon>
        </button>

        <span class="!ml-3 !mr-1 text-gray-200">|</span>

        <button mat-mini-fab class="border" color="warn">
          <mat-icon>call_end</mat-icon>
        </button>
      </div>

      <!-- ✅ Circular Animation with Timer -->
      <div *ngIf="isRecording" class="record-timer">
        <svg class="circle-timer" viewBox="0 0 100 100">
          <circle cx="50" cy="50" r="45" stroke="#333" stroke-width="4" fill="none" />
          <circle
            cx="50"
            cy="50"
            r="45"
            stroke="#00f7ff"
            stroke-width="4"
            fill="none"
            [attr.stroke-dasharray]="circumference"
            [attr.stroke-dashoffset]="dashOffset"
          />
        </svg>
        <div class="timer-text">{{ timeLeft }}s</div>
      </div>
    </div>

    <!-- Info & Lock -->
    <div class="hidden md:flex items-center justify-self-end p-2">
      <button class="icon_btn-2">
        <mat-icon>info</mat-icon>
      </button>
      <span class="icon_btn-2">
        <mat-icon>lock</mat-icon>
      </span>
    </div>
  </div>
</section>

<!-- Popup Menu -->
<mat-menu #meetMenu="matMenu" class="!bg-gray-50 !shadow-sm">
  <button mat-menu-item>Settings</button>
  <button mat-menu-item>System Health</button>
  <div class="my-2 h-[2px] bg-gray-300 overflow-hidden"></div>
  <button mat-menu-item>Help/Support</button>
  <button mat-menu-item>About</button>
</mat-menu>
